"use strict";var axios=require("axios"),cheerio=require("cheerio"),getHTML=function(r){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(axios.get("https://www.inflearn.com/courses?s=".concat(encodeURI(r))));case 3:return t=e.sent.data,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("err : ",e.t0);case 10:case"end":return e.stop()}},null,null,[[0,7]])},parsing=function(r){var i,u;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=cheerio.load(r),u=[],i(".course_card_item").each(function(e,r){var t=i(r).find(".course_title:eq(0)").text(),n=i(r).find(".instructor:eq(0)").text(),a=0,c=0;0<i(r).find(".pay_price").length?(a=i(r).find(".pay_price:eq(0)").text(),c=i(r).find("del:eq(0)").text()):a=i(r).find(".price:eq(0)").text();var s=Math.round(parseFloat(i(r).find(".star_solid").css("width").slice(0,-1))),o=(i(r).find(".review_cnt").text().slice(1,-1),i(r).find(".card-image > figure > img").attr("src"));u.push({title:t,instructor:n,price:a,ogPrice:c,imgSrc:o,rating:s})}),e.abrupt("return",u);case 5:case"end":return e.stop()}})},getCourse=function(r){var t,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(getHTML(r));case 2:return t=e.sent,e.next=5,regeneratorRuntime.awrap(parsing(t));case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}})},getFullCourse=function(){var r,t,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],t=1;case 2:return e.next=5,regeneratorRuntime.awrap(getCourse("자바스크립트&order=search&page=".concat(t)));case 5:n=e.sent,r=r.concat(n),t++,e.next=2;break;case 10:console.log(11111,r),console.log(22222,r.length);case 12:case"end":return e.stop()}})};getFullCourse();
//# sourceMappingURL=index.min.js.map
