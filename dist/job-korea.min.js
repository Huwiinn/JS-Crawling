"use strict";var axios=require("axios"),cheerio=require("cheerio"),nodemailer=require("nodemailer");require("dotenv").config({path:"nodemailer/.env"});var getHTML=function(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(axios.get("https://www.jobkorea.co.kr/Search/?stext=".concat(t,"&tabType=recruit&Page_No=1")));case 3:return r=e.sent.data,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.log("err : ",e.t0);case 10:case"end":return e.stop()}},null,null,[[0,7]])},parsing=function(t){var i,p,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=cheerio.load(t),p=[],r=i(".post"),e.prev=3,r.each(function(e,t){var r=i(t).find(".title:eq(0)").text().trim(),n=i(t).find(".name:eq(0)").text().trim(),a=i(t).find(".exp:eq(0)").text().trim(),o=i(t).find(".edu:eq(0)").text().trim(),c=i(t).find("span:eq(2)").text().trim(),s=i(t).find(".loc.long:eq(0)").text().trim(),u=i(t).find(".date:eq(0)").text().trim();(a.includes("신입")||a.includes("경력무관"))&&p.push({title:r,company:n,exp:a,edu:o,contract:c,region:s,date:u})}),e.abrupt("return",p);case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}},null,null,[[3,8]])},getJob=function(t){var r,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(getHTML(t));case 2:return r=e.sent,e.next=5,regeneratorRuntime.awrap(parsing(r));case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}})},crawlingJobs=function(){var t,r,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(getJob("프론트엔드"));case 2:return t=e.sent,(r=[]).push('<table style="border:1px solid #000; border-collapse:collapse">'),r.push("<thead>"),r.push("<tr>"),r.push("<th>구인제목</th>"),r.push("<th>회사명</th>"),r.push("<th>경력</th>"),r.push("<th>학력</th>"),r.push("<th>정규직 여부</th>"),r.push("<th>지역</th>"),r.push("<th>구인 마감일</th>"),r.push("</tr>"),r.push("</thead>"),r.push("<tbody>"),t.forEach(function(e){r.push("<tr>"),r.push("<td>".concat(e.title,"</td>")),r.push("<td>".concat(e.company,"</td>")),r.push("<td>".concat(e.exp,"</td>")),r.push("<td>".concat(e.edu,"</td>")),r.push("<td>".concat(e.contract,"</td>")),r.push("<td>".concat(e.region,"</td>")),r.push("<td>".concat(e.date,"</td>")),r.push("</tr>")}),r.push("</tbody>"),r.push("</table>"),n={from:"gnldls8406@naver.com",to:"gnldls8406@gmail.com",subject:"프론트엔드 구인 회사 정보",html:r.join("")},e.next=23,regeneratorRuntime.awrap(nodemailer.sendMail(n,function(e,t){console.log(e)}));case 23:case"end":return e.stop()}})};crawlingJobs("프론트엔드");
//# sourceMappingURL=job-korea.min.js.map
